{% if ansible_distribution | lower == 'debian' and ansible_distribution_major_version | int >= 11 %}
# THIS FILE IS OBSOLETE. STOP USING IT IF POSSIBLE.
# This file exists only for backwards compatibility for
# tools that run '--defaults-file=/etc/mysql/debian.cnf'
# and have root level access to the local filesystem.
# With those permissions one can run 'mariadb' directly
# anyway thanks to unix socket authentication and hence
# this file is useless. See package README for more info.

{% endif %}
# {{ ansible_managed }}
# Automatically generated for Debian scripts. DO NOT TOUCH! (opps)
[client]
host     = localhost
{% if ((ansible_distribution | lower == 'debian' and ansible_distribution_major_version | int >= 11) or
       (ansible_distribution | lower == 'ubuntu' and ansible_distribution_major_version | int >= 20)) %}
user     = root
{% else %}
user     = debian-sys-maint
{% endif %}
password = {{ mariadb_mysql_root_password }}
socket   = {{ mariadb_login_unix_socket }}
[mysql_upgrade]
host     = localhost
{% if ((ansible_distribution | lower == 'debian' and ansible_distribution_major_version | int >= 11) or
       (ansible_distribution | lower == 'ubuntu' and ansible_distribution_major_version | int >= 20)) %}
user     = root
{% else %}
user     = debian-sys-maint
{% endif %}
password = {{ mariadb_mysql_root_password }}
socket   = {{ mariadb_login_unix_socket }}
basedir  = /usr
